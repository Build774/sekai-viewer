(this["webpackJsonpsekai-viewer"]=this["webpackJsonpsekai-viewer"]||[]).push([[26],{5955:function(e,a,t){"use strict";t.d(a,"e",(function(){return u})),t.d(a,"b",(function(){return b})),t.d(a,"d",(function(){return f})),t.d(a,"a",(function(){return g})),t.d(a,"c",(function(){return p}));var n=t(5966),r=t.n(n),c=t(5967),i=t(32),o=t(5964),l=t.n(o),s=t(0),m=t(50);function u(e){var a=Object(s.useState)(e),t=Object(i.a)(a,2),n=t[0],r=t[1],c=Object(s.useRef)(n);return Object(s.useEffect)((function(){c.current=n}),[n]),[n,c,r]}var h={};function b(e){var a=u([]),t=Object(i.a)(a,3),n=t[0],o=t[1],m=t[2],b=Object(s.useCallback)(Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.get("https://raw.githubusercontent.com/Sekai-World/sekai-master-db-diff/master/".concat(e,".json"));case 2:return t=a.sent,n=t.data,a.abrupt("return",n);case 5:case"end":return a.stop()}}),a)}))),[e]);return Object(s.useEffect)((function(){h[e]&&h[e].length?m(h[e]):b().then((function(a){m(a),h[e]=a}))}),[b,e,m]),[n,o]}function f(e){var a=u({time:0,first10:[],rank20:[],rank30:[],rank40:[],rank50:[],rank100:[],rank200:[],rank300:[],rank400:[],rank500:[],rank1000:[],rank2000:[],rank3000:[],rank4000:[],rank5000:[],rank10000:[],rank20000:[],rank30000:[],rank40000:[],rank50000:[],rank100000:[]}),t=Object(i.a)(a,3),n=t[0],o=t[1],m=t[2];return[Object(s.useCallback)(Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.get("https://bitbucket.org/sekai-world/sekai-event-track/raw/main/event".concat(e,".json?t=").concat(Date.now()));case 2:return t=a.sent,n=t.data,m(n),a.abrupt("return",n);case 6:case"end":return a.stop()}}),a)}))),[e,m]),n,o]}var g={all:"All",vocaloid:"Vocaloid",light_music_club:"Light Music Club",idol:"Idol",school_refusal:"School Refusal",theme_park:"Theme Park",street:"Street"};function p(e){var a=b("gameCharacters"),t=Object(i.a)(a,1)[0],n=Object(m.b)(),r=n.assetT,c=n.assetI18n;return Object(s.useCallback)((function(a){var n=t.find((function(e){return e.id===a}));if(null===n||void 0===n?void 0:n.firstName)switch(e){case"original":return"".concat(n.firstName," ").concat(n.givenName);case"translated":return["zh-CN","zh-TW","ko","ja"].includes(c.language)?"".concat(r("character_name:".concat(a,".firstName"),n.firstName)," ").concat(r("character_name:".concat(a,".givenName"),n.givenName)):"".concat(r("character_name:".concat(a,".givenName"),n.givenName)," ").concat(r("character_name:".concat(a,".firstName"),n.firstName));case"both":return"".concat(n.firstName," ").concat(n.givenName," | ")+(["zh-CN","zh-TW","ko","ja"].includes(c.language)?"".concat(r("character_name:".concat(a,".firstName"),n.firstName)," ").concat(r("character_name:".concat(a,".givenName"),n.givenName)):"".concat(r("character_name:".concat(a,".givenName"),n.givenName)," ").concat(r("character_name:".concat(a,".firstName"),n.firstName)))}return null===n||void 0===n?void 0:n.givenName}),[c.language,r,t,e])}},5956:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var n=t(5910),r=Object(n.a)((function(e){return{header:{fontWeight:"bold"},content:{marginTop:e.spacing(3),marginBottom:e.spacing(3),marginLeft:"auto",marginRight:"auto"}}}))},5963:function(e,a,t){"use strict";t.d(a,"a",(function(){return c}));var n=t(34),r=t(5910),c=Object(r.a)((function(e){return{container:{margin:e.spacing(1,0),padding:e.spacing(1,2)},caption:Object(n.a)({},e.breakpoints.up("md"),{textAlign:"right"}),sliderContainer:Object(n.a)({},e.breakpoints.up("md"),{paddingRight:e.spacing(5)})}}))},6189:function(e,a,t){"use strict";t.r(a);var n=t(32),r=t(34),c=t(5910),i=t(5939),o=t(42),l=t(5885),s=t(18),m=t(5924),u=t(6044),h=t(5938),b=t(6092),f=t(112),g=t(6206),p=t(6192),d=t(5956),k=t(5963),v=t(6095),w=t(6102),E=t(5936),j=t(6191),N=t(6066),O=t(6104),_=t(6053),S=t(6103),z=t(44),C=t(0),x=t.n(C),y=t(5883),A=t(6065),D=t(52),T=t(5955),L=Object(c.a)((function(e){return{alert:{margin:e.spacing(2,0)},"contact-link":{margin:e.spacing(0,.5)},"game-news-title":{paddingTop:e.spacing(2)}}}));function W(e){switch(e.webp+e.webpLossless+e.webpAlpha){case-3:return"info";case 0:return"error";case 3:return"success";default:return"warning"}}var R=Object(c.a)((function(e){var a;return{iframe:(a={},Object(r.a)(a,e.breakpoints.down("sm"),{width:"300px",height:"480px"}),Object(r.a)(a,e.breakpoints.up("md"),{width:"600px",height:"480px"}),a)}}));function M(e){var a=R();return x.a.createElement(i.a,{open:e.open,onClose:e.onClose},x.a.createElement(o.a,null,e.title),x.a.createElement("iframe",{className:a.iframe,title:e.title,src:e.url}))}function P(e){return x.a.createElement(l.a,{color:"primary",onClick:e.onClick},x.a.createElement(w.a,null))}a.default=function(){var e=Object(s.a)(),a=L(),t=Object(d.a)(),r=Object(k.a)(),c=Object(y.a)().t,i=Object(T.b)("userInformations"),R=Object(n.a)(i,1)[0],V=Object(C.useState)("information"),B=Object(n.a)(V,2),F=B[0],I=B[1],J=Object(C.useState)(!1),K=Object(n.a)(J,2),q=K[0],G=K[1],H=Object(C.useState)(),Q=Object(n.a)(H,2),U=Q[0],X=Q[1];Object(C.useEffect)((function(){document.title=c("title:home")}),[c]);var Y=Object(C.useState)({webp:-1,webpLossless:-1,webpAlpha:-1}),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1];Object(C.useEffect)((function(){ee({webp:Number(Modernizr.webp),webpLossless:Number(Modernizr.webplossless),webpAlpha:Number(Modernizr.webpalpha)})}),[]);var ae=Object(m.a)(e.breakpoints.up("md")),te=[{field:"action",headerName:c("home:game-news.action"),width:80,renderCell:function(e){var a=e.data;return"internal"===a.browseType?x.a.createElement(P,{onClick:function(){X(a),G(!0)}}):x.a.createElement(u.a,{target:"_blank",href:a.path},x.a.createElement(l.a,{color:"primary"},x.a.createElement(w.a,null)))},sortable:!1},{field:"startAt",headerName:c("home:game-news.show-from"),width:200,valueFormatter:function(e){return new Date(e.getValue("startAt")).toLocaleString()},sortDirection:"desc"},{field:"title",headerName:c("home:game-news.title-column"),width:ae?600:150,sortable:!1},{field:"endAt",headerName:c("home:game-news.show-until"),width:200,valueFormatter:function(e){return new Date(e.getValue("startAt")).toLocaleString()}}];return x.a.createElement(C.Fragment,null,x.a.createElement(o.a,{variant:"h6",className:t.header},c("common:home")),x.a.createElement(h.a,{className:t.content},x.a.createElement(b.a,{container:!0,justify:"center"},x.a.createElement(b.a,{item:!0,xs:12,md:8,lg:6},x.a.createElement("img",{src:"".concat("/sekai-viewer","/images/banner.png"),alt:"banner",style:{width:"100%",height:"auto"},width:"1500",height:"500"}))),x.a.createElement(_.a,{className:a.alert,severity:"info"},c("home:alert0")),x.a.createElement(_.a,{className:a.alert,severity:"info"},x.a.createElement(A.a,{i18nKey:"home:alert_settings",components:{s:x.a.createElement(E.a,{fontSize:"inherit"})}})),x.a.createElement(_.a,{className:a.alert,severity:"warning"},x.a.createElement(S.a,null,c("home:alert1.title")),x.a.createElement(u.a,{href:"https://www.transifex.com/dnaroma/sekai-viewer",target:"_blank"},x.a.createElement(j.a,{fontSize:"inherit"}),c("home:alert1.translation")),"\uff08English\uff0c\u7b80\u4e2d\uff0c\u7e41\u4e2d\uff0c\u65e5\u672c\u8a9e\uff0c\ud55c\uad6d\uc5b4\uff0cDeutsch, Espa\xf1ol, others upon request\uff09",x.a.createElement("br",null),x.a.createElement(u.a,{href:"https://github.com/Sekai-World/sekai-viewer",target:"_blank"},x.a.createElement(N.a,{fontSize:"inherit"}),c("home:alert1.development")),"\uff08Sekai-World/sekai-viewer\uff09",x.a.createElement("br",null),x.a.createElement(u.a,{href:"https://www.patreon.com/bePatron?u=6503151",target:"_blank"},x.a.createElement(z.g,{fontSize:"inherit"}),"Patreon"),x.a.createElement("br",null),x.a.createElement(D.b,{to:"/about",style:{textDecoration:"none"}},x.a.createElement(u.a,null,x.a.createElement(w.a,{fontSize:"inherit"})," ",c("home:alert1.see_contrib_list"))),x.a.createElement("br",null),c("home:alert1.contact"),":",x.a.createElement(u.a,{href:"https://www.twitter.com/miku_zura",target:"_blank",className:a["contact-link"]},x.a.createElement(O.a,{fontSize:"inherit"}),"@miku_zura"),x.a.createElement(u.a,{href:"#",className:a["contact-link"]},x.a.createElement(z.d,{fontSize:"inherit"}),"DNARoma#0646"),x.a.createElement("br",null),c("home:alert1.join-discord"),x.a.createElement(u.a,{href:"https://discord.gg/xcDBRMd",target:"_blank",className:a["contact-link"]},x.a.createElement(z.d,{fontSize:"inherit"}),"Sekai Viewer")),"success"!==W($)?x.a.createElement(_.a,{className:a.alert,severity:W($)},x.a.createElement(S.a,null,"WebP ",c("common:support")),x.a.createElement(A.a,{i18nKey:"home:detect.failed",components:{l:x.a.createElement(u.a,{href:"https://caniuse.com/webp"})}})):null),x.a.createElement(o.a,{variant:"h6",className:t.header},c("home:game-news.title")),x.a.createElement(h.a,{className:t.content},x.a.createElement(f.a,{className:r.container},x.a.createElement(g.a,{value:F,onChange:function(e,a){return I(a)},variant:"scrollable",scrollButtons:"desktop"},x.a.createElement(p.a,{label:c("common:information"),value:"information"}),x.a.createElement(p.a,{label:c("common:event"),value:"event"}),x.a.createElement(p.a,{label:c("common:gacha"),value:"gacha"}),x.a.createElement(p.a,{label:c("common:music"),value:"music"}),x.a.createElement(p.a,{label:c("common:campaign"),value:"campaign"}),x.a.createElement(p.a,{label:c("common:bug"),value:"bug"}),x.a.createElement(p.a,{label:c("home:update"),value:"update"}))),x.a.createElement("div",{style:{height:650}},x.a.createElement(v.a,{pagination:!0,autoPageSize:!0,rows:R.filter((function(e){return e.informationTag===F})),columns:te}))),U?x.a.createElement(M,{url:"https://production-web.sekai.colorfulpalette.org/".concat(U.path),open:q,onClose:function(){return G(!1)},title:U.title}):null)}}}]);
//# sourceMappingURL=26.837433e0.chunk.js.map