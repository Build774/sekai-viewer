{"version":3,"sources":["components/subs/ContentTrans.tsx","components/subs/InfiniteScroll.tsx","styles/interactive.ts","assets/rarity_star_normal.png","assets/rarity_star_afterTraining.png","styles/svg.ts","components/subs/CardThumb.tsx","stores/reducers.ts","../node_modules/@material-ui/system/esm/css.js","../node_modules/@material-ui/system/esm/compose.js","../node_modules/@material-ui/system/esm/style.js","../node_modules/@material-ui/system/esm/borders.js","../node_modules/@material-ui/system/esm/display.js","../node_modules/@material-ui/system/esm/flexbox.js","../node_modules/@material-ui/system/esm/grid.js","../node_modules/@material-ui/system/esm/positions.js","../node_modules/@material-ui/system/esm/palette.js","../node_modules/@material-ui/system/esm/shadows.js","../node_modules/@material-ui/system/esm/sizing.js","../node_modules/@material-ui/system/esm/typography.js","../node_modules/@material-ui/styles/esm/styled/styled.js","../node_modules/@material-ui/core/esm/styles/styled.js","../node_modules/@material-ui/core/esm/Box/Box.js","../node_modules/@material-ui/core/esm/internal/svg-icons/Person.js","../node_modules/@material-ui/core/esm/Avatar/Avatar.js","../node_modules/@material-ui/icons/esm/ViewAgenda.js","../node_modules/@material-ui/icons/esm/ViewComfy.js","components/subs/CardImage.tsx","components/CardList.tsx"],"names":["ContentTrans","mode","contentKey","original","originalProps","translatedProps","assetTOptions","assetT","useAssetI18n","container","direction","color","CharaNameTrans","characterId","useCachedData","charas","assetI18n","useState","chara","setChara","useEffect","length","find","c","id","firstName","givenName","includes","language","ReleaseCondTrans","releaseCondId","releaseConds","releaseCond","setReleaseCond","rc","i18nKey","releaseConditionType","Object","assign","level","releaseConditionTypeLevel","sentence","breakpoints","defaultGridSize","xs","md","InfiniteScroll","viewComponent","callback","data","gridSize","_gridSize","forEach","v","i","a","transformToCompleteGridSizeOptions","breakpoint","theme","useTheme","map","useMediaQuery","down","Boolean","useBreakpoint","hasMore","setHasMore","observer","useRef","IntersectionObserver","entries","threshold","listElementRef","currentObserver","current","currentElement","observe","unobserve","itemsPerRow","numPlaceholders","spacing","key","item","sm","lg","xl","index","ref","style","display","paddingTop","Array","from","_","useInteractiveStyles","makeStyles","margin","padding","caption","up","textAlign","sliderContainer","paddingRight","module","exports","useSvgStyles","svg","width","height","pointerEvents","skeleton","CardThumb","trained","CardThumbSkeleton","classes","cards","card","setCard","elem","rarityIcon","rarityAfterTraining","rarityNormal","xmlns","viewBox","className","href","process","assetbundleName","x","y","cardThumbFrameMap","String","rarity","attrIconMap","attr","variant","CardThumbs","cardIds","justify","alignItems","cardId","characterSelectReducer","state","action","type","payload","slice","indexOf","Error","css","styleFunction","newStyleFunction","props","output","_extends","merge","input","fields","keys","prop","omit","filterProps","propTypes","concat","_toConsumableArray","compose","_len","arguments","styles","_key","fn","reduce","acc","getPath","obj","path","split","options","_options$cssProperty","cssProperty","themeKey","transform","propValue","themeMapping","handleBreakpoints","propValueFinal","value","isArray","_defineProperty","getBorder","borders","flexbox","grid","palette","boxShadow","maxWidth","minWidth","maxHeight","minHeight","sizing","typography","styled","Component","componentCreator","undefined","name","stylesOptions","_objectWithoutProperties","classNamePrefix","stylesOrCreator","root","useStyles","displayName","StyledComponent","React","forwardRef","children","classNameProp","clone","ComponentProp","component","other","clsx","spread","cloneElement","FinalComponent","createElement","hoistNonReactStatics","styledWithoutDefault","defaultTheme","positions","shadows","Box","createSvgIcon","d","Avatar","alt","childrenProp","_props$component","imgProps","sizes","src","srcSet","_props$variant","loaded","_ref","_React$useState","setLoaded","active","image","Image","onload","onerror","useLoaded","hasImg","hasImgNotFailing","img","Person","fallback","system","colorDefault","withStyles","position","justifyContent","flexShrink","fontFamily","fontSize","pxToRem","lineHeight","borderRadius","overflow","userSelect","background","default","backgroundColor","grey","circle","rounded","shape","square","objectFit","textIndent","CardSmallImage","CardImageSkeleton","hoveredArea","setHoveredArea","useRefState","imgLeftX","refImgLeftX","setImgLeftX","imgRightX","refImgRightX","setImgRightX","interval","setInterval","Math","floor","clearInterval","onMouseLeave","preserveAspectRatio","onMouseOver","cardImageFrameMap","Skeleton","media","cursor","subheader","agendaWrapper","agenda","comfy","comfyPrefix","whiteSpace","textOverflow","getMaxParam","rarities","episodes","maxLevel","trainingMaxLevel","maxParam","cardParameters","filter","cp","cardLevel","sum","power","episode","power1BonusFixed","power2BonusFixed","power3BonusFixed","specialTrainingPower1BonusFixed","specialTrainingPower2BonusFixed","specialTrainingPower3BonusFixed","CardList","layoutClasses","useLayoutStyles","interactiveClasses","useRouteMatch","t","useTranslation","contentTransMode","useContext","SettingContext","getCharaName","useCharaName","cardsCache","setCards","sortedCache","sortedCacheRef","setSortedCache","localStorage","getItem","viewGridType","setViewGridType","page","pageRef","setPage","limit","limitRef","lastQueryFinRef","setLastQueryFin","isReadyRef","setIsReady","filterOpened","setFilterOpened","sortType","setSortType","sortBy","setSortBy","useReducer","characterSelected","dispatchCharacterSelected","document","title","result","sort","b","getPaginatedCards","ListCard","to","textDecoration","Card","CardMedia","prefix","CardContent","paddingBottom","Grid","Typography","Paper","align","header","Container","content","ButtonGroup","marginBottom","Button","onClick","setItem","ViewAgenda","ViewComfy","size","Sort","SortOutlined","Collapse","in","idx","Chip","clickable","avatar","charaIcons","label","FormControl","Select","onChange","e","target","MenuItem","isIntersecting"],"mappings":"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","file":"static/js/15.84005f1a.chunk.js","sourcesContent":["import { Grid, Typography, TypographyProps } from \"@material-ui/core\";\nimport { StringMap, TOptions } from \"i18next\";\nimport React, { useEffect, useState } from \"react\";\nimport {\n  ContentTransModeType,\n  IGameChara,\n  IReleaseCondition,\n} from \"../../types\";\nimport { useCachedData } from \"../../utils\";\nimport { useAssetI18n } from \"../../utils/i18n\";\n\nexport const ContentTrans: React.FC<{\n  mode: ContentTransModeType;\n  contentKey: string;\n  original: string;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({\n  mode,\n  contentKey,\n  original,\n  originalProps,\n  translatedProps,\n  assetTOptions,\n}) => {\n  const { assetT } = useAssetI18n();\n  switch (mode) {\n    case \"original\":\n      return <Typography {...originalProps}>{original}</Typography>;\n    case \"translated\":\n      return (\n        <Typography {...translatedProps}>\n          {assetT(contentKey, original, assetTOptions)}\n        </Typography>\n      );\n    case \"both\":\n      return (\n        <Grid container direction=\"column\">\n          <Typography {...originalProps} color=\"textPrimary\">\n            {original}\n          </Typography>\n          <Typography {...translatedProps} color=\"textSecondary\">\n            {assetT(contentKey, original, assetTOptions)}\n          </Typography>\n        </Grid>\n      );\n  }\n};\n\nexport const CharaNameTrans: React.FC<{\n  mode: ContentTransModeType;\n  characterId: number;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({ mode, characterId, originalProps, translatedProps, assetTOptions }) => {\n  const [charas] = useCachedData<IGameChara>(\"gameCharacters\");\n  const { assetT, assetI18n } = useAssetI18n();\n\n  const [chara, setChara] = useState<IGameChara>();\n\n  useEffect(() => {\n    if (charas.length) {\n      setChara(charas.find((c) => c.id === characterId));\n    }\n  }, [charas, characterId]);\n\n  if (chara) {\n    switch (mode) {\n      case \"original\":\n        return (\n          <Typography {...originalProps}>\n            {chara.firstName} {chara.givenName}\n          </Typography>\n        );\n      case \"translated\":\n        return [\"zh-CN\", \"zh-TW\", \"ko\", \"ja\"].includes(assetI18n.language) ? (\n          <Typography {...translatedProps}>\n            {chara.firstName\n              ? assetT(\n                  `character_name:${characterId}.firstName`,\n                  chara.firstName,\n                  assetTOptions\n                )\n              : \"\"}{\" \"}\n            {assetT(\n              `character_name:${characterId}.givenName`,\n              chara.givenName,\n              assetTOptions\n            )}\n          </Typography>\n        ) : (\n          <Typography>\n            {assetT(\n              `character_name:${characterId}.givenName`,\n              chara.givenName,\n              assetTOptions\n            )}{\" \"}\n            {chara.firstName\n              ? assetT(\n                  `character_name:${characterId}.firstName`,\n                  chara.firstName,\n                  assetTOptions\n                )\n              : \"\"}\n          </Typography>\n        );\n      case \"both\":\n        return (\n          <Grid container direction=\"column\">\n            <Typography {...originalProps}>\n              {chara.firstName} {chara.givenName}\n            </Typography>\n            {[\"zh-CN\", \"zh-TW\", \"ko\", \"ja\"].includes(assetI18n.language) ? (\n              <Typography color=\"textSecondary\" {...translatedProps}>\n                {chara.firstName\n                  ? assetT(\n                      `character_name:${characterId}.firstName`,\n                      chara.firstName,\n                      assetTOptions\n                    )\n                  : \"\"}{\" \"}\n                {assetT(\n                  `character_name:${characterId}.givenName`,\n                  chara.givenName,\n                  assetTOptions\n                )}\n              </Typography>\n            ) : (\n              <Typography color=\"textSecondary\" {...translatedProps}>\n                {assetT(\n                  `character_name:${characterId}.givenName`,\n                  chara.givenName,\n                  assetTOptions\n                )}{\" \"}\n                {chara.firstName\n                  ? assetT(\n                      `character_name:${characterId}.firstName`,\n                      chara.firstName,\n                      assetTOptions\n                    )\n                  : \"\"}\n              </Typography>\n            )}\n          </Grid>\n        );\n    }\n  } else {\n    return <Typography></Typography>;\n  }\n};\n\nexport const ReleaseCondTrans: React.FC<{\n  mode: ContentTransModeType;\n  releaseCondId: number;\n  originalProps?: TypographyProps;\n  translatedProps?: TypographyProps;\n  assetTOptions?: string | TOptions<StringMap>;\n}> = ({\n  mode,\n  releaseCondId,\n  originalProps,\n  translatedProps,\n  assetTOptions,\n}) => {\n  const [releaseConds] = useCachedData<IReleaseCondition>(\"releaseConditions\");\n\n  const [releaseCond, setReleaseCond] = useState<IReleaseCondition>();\n\n  useEffect(() => {\n    if (releaseConds.length) {\n      setReleaseCond(releaseConds.find((rc) => rc.id === releaseCondId));\n    }\n  }, [releaseCondId, releaseConds]);\n\n  if (releaseCond) {\n    let i18nKey = \"\";\n    switch (releaseCond.releaseConditionType) {\n      case \"none\":\n        i18nKey = `release_cond:none_${releaseCond.id}`;\n        break;\n      case \"card_level\":\n        i18nKey = `release_cond:card_level`;\n        assetTOptions = Object.assign({}, assetTOptions, {\n          level: releaseCond.releaseConditionTypeLevel,\n        });\n        break;\n      default:\n        i18nKey = `release_cond:${releaseCond.releaseConditionType}`;\n        break;\n    }\n    return (\n      <ContentTrans\n        mode={mode}\n        contentKey={i18nKey}\n        original={releaseCond.sentence}\n        originalProps={originalProps}\n        translatedProps={translatedProps}\n        assetTOptions={assetTOptions}\n      />\n    );\n  } else {\n    return <div></div>;\n  }\n};\n","import {\n  // Box,\n  Grid,\n  // makeStyles,\n  useMediaQuery,\n  useTheme,\n} from \"@material-ui/core\";\nimport React, { Fragment, useEffect, useRef, useState } from \"react\";\n\n// only divisor of 12\ntype GridSize = 1 | 2 | 3 | 4 | 6 | 12 | undefined;\n\ninterface GridSizeOptions {\n  /**\n   * grid size for `xs` and wider (if not overridden) \\\n   * omit this property or set `undefined` to use default (12)\n   */\n  xs?: GridSize;\n  /**\n   * grid size for `sm` and wider (if not overridden) \\\n   * omit this property or set `undefined` to inherit from `xs` \\\n   */\n  sm?: GridSize;\n  /**\n   * grid size for `md` and wider (if not overridden) \\\n   * omit this property or set `undefined` to inherit from `sm` \\\n   */\n  md?: GridSize;\n  /**\n   * grid size for `lg` and wider (if not overridden) \\\n   * omit this property or set `undefined` to inherit from `md` \\\n   */\n  lg?: GridSize;\n  /**\n   * grid size for `xl` and wider \\\n   * omit this property or set `undefined` to inherit from `lg` \\\n   */\n  xl?: GridSize;\n}\n\ntype CompleteGridSizeOptions = {\n  [T in keyof Required<GridSizeOptions>]: Exclude<GridSize, undefined>;\n};\n\ninterface IISProps<T> {\n  readonly viewComponent: React.FC<{ data?: T; index?: number }>;\n  readonly callback: (\n    entries: readonly IntersectionObserverEntry[],\n    setHasMore: React.Dispatch<React.SetStateAction<boolean>>\n  ) => void;\n  readonly data: readonly T[];\n  readonly gridSize?: Readonly<GridSizeOptions>;\n}\n\n// NOTE: `breakpoints` must be sorted ascending by size\nconst breakpoints = [\"xs\", \"sm\", \"md\", \"lg\", \"xl\"] as const;\n\nconst defaultXSGridSize: GridSize = 12;\nconst defaultGridSize: Readonly<GridSizeOptions> = {\n  xs: defaultXSGridSize,\n  md: 4,\n};\n\nfunction useBreakpoint(): keyof GridSizeOptions {\n  const theme = useTheme();\n\n  // NOTE: The number of calls to `useMediaQuery` must always be constant.\n  // https://en.reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level\n  const downBreakpoints = breakpoints.map(\n    (breakpoint) =>\n      // NOTE: `down` includes itself\n      // eslint-disable-next-line react-hooks/rules-of-hooks\n      useMediaQuery(theme.breakpoints.down(breakpoint)) && breakpoint\n  );\n\n  // NOTE: `down('xl')` always returns `true` so `|| breakpoints[breakpoints.length - 1]`\n  //       is not actually needed, but it's written for clarity and typing.\n  return downBreakpoints.find(Boolean) || breakpoints[breakpoints.length - 1];\n}\n\nfunction transformToCompleteGridSizeOptions(\n  _gridSize?: Readonly<GridSizeOptions> | undefined\n): CompleteGridSizeOptions {\n  // use default if gridSize is not provided\n  // not using defaults per properties because `{ md: 4 }` would not be desired\n  const gridSize = {\n    ...(_gridSize || defaultGridSize),\n  };\n\n  // inherit the value of the smaller breakpoint if not specified\n  breakpoints.forEach((v, i, a) => {\n    if (!gridSize[v]) {\n      gridSize[v] = i > 0 ? gridSize[a[i - 1]] : defaultXSGridSize;\n    }\n  });\n\n  return gridSize as CompleteGridSizeOptions;\n}\n\nfunction InfiniteScroll<T>({\n  viewComponent,\n  callback,\n  data,\n  gridSize: _gridSize,\n}: React.PropsWithChildren<IISProps<T>>): React.ReactElement<IISProps<T>> {\n  // this is necessary because of `viewGridSize`\n  const gridSize = transformToCompleteGridSizeOptions(_gridSize);\n\n  const breakpoint = useBreakpoint();\n\n  const [hasMore, setHasMore] = useState<boolean>(true);\n\n  const observer = useRef(\n    new IntersectionObserver((entries) => callback(entries, setHasMore), {\n      threshold: 0.5,\n    })\n  );\n  const listElementRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    setHasMore(true);\n  }, [data]);\n\n  useEffect(() => {\n    const currentObserver = observer.current;\n    const currentElement = listElementRef.current;\n    if (currentElement) currentObserver.observe(currentElement);\n\n    return () => {\n      if (currentElement) {\n        currentObserver.unobserve(currentElement);\n      }\n    };\n  });\n\n  const viewGridSize = gridSize[breakpoint];\n  const itemsPerRow = 12 / viewGridSize;\n  const numPlaceholders = data.length ? itemsPerRow : itemsPerRow * 2;\n\n  return (\n    <Fragment>\n      <Grid container direction=\"row\" spacing={1}>\n        {data.length\n          ? data.map((data, i) => (\n              <Grid\n                key={i}\n                item\n                xs={gridSize.xs}\n                sm={gridSize.sm}\n                md={gridSize.md}\n                lg={gridSize.lg}\n                xl={gridSize.xl}\n              >\n                {viewComponent({ data, index: i })}\n              </Grid>\n            ))\n          : null}\n      </Grid>\n      <Grid\n        container\n        direction=\"row\"\n        ref={listElementRef}\n        style={{ display: hasMore ? \"flex\" : \"none\", paddingTop: \"4px\" }}\n        spacing={1}\n      >\n        {Array.from({\n          length: numPlaceholders,\n        }).map((_, i) => (\n          <Grid\n            key={`empty-${i}`}\n            item\n            xs={gridSize.xs}\n            sm={gridSize.sm}\n            md={gridSize.md}\n            lg={gridSize.lg}\n            xl={gridSize.xl}\n          >\n            {viewComponent({})}\n          </Grid>\n        ))}\n      </Grid>\n    </Fragment>\n  );\n}\n\nexport default InfiniteScroll;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useInteractiveStyles = makeStyles((theme) => ({\n  container: {\n    margin: theme.spacing(1, 0),\n    padding: theme.spacing(1, 2),\n  },\n  caption: {\n    [theme.breakpoints.up(\"md\")]: {\n      textAlign: \"right\",\n    },\n  },\n  sliderContainer: {\n    [theme.breakpoints.up(\"md\")]: {\n      paddingRight: theme.spacing(5),\n    },\n  },\n}));\n\nexport { useInteractiveStyles };\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABGCAYAAABv59I3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABbdSURBVHhe5Zx5cBv3dceZa9KZNJm4aVr/kUw9SdrxTGcybjud6XhSj9s0E6edNk4a56js2I4sSgRFyjocW5FlyYkty7YsyZFkRTcJkBRBUfdJHbwgkiBxkSAJ3pcoijdAgsQN7Ov3LfYH7YJLWXJox5J/M5/ZJUgu8Pvgvfd7vwWljD/lqNhQ8Vnjk41f0ONojvVrxtWNX1B+9JM39mTaPycEFWQ7DxzOaZ5VY36+5p3iFTXfL8qt+2v+WeXXPhljwwb69Lmczs8XZjvKilY0kx5HVtbJlKysbWFJ5pW1f6H8+r0/WE5BtqOv0ODw6clhhCABR5Epx/ol5RL37ih5ouQzBVn2HYXZTmKEkGMveci6q58qt/ToCuJI+kQIKshy/FjIEYI6S0Yo4pjVMLiVyPKbLjqRWytzcU0TcV1SLnPvjcIs931Mfqad1ITO+yjWHJwDuSM0dGaSjEtdGpTL3XtDlrPEXqSW4ykaoKgzoBETsc7IsKBA7Sw15w1pBJkMjnLlkvfWyMt0PKKWc3Ktm4J2b0pMtGFWJnx5SoYFCUmn17VRoaFRFlRgcCA1HauUy947I3+Jza0WdKNsRBbEESRHUStEgXRBcVeYvOXTVLq6JSXIZLD3KZe9N8b+zPo31ZFTtaVDlsNEavwURVEmX0KGv45U+ynmCMkIUdbf98uSWJBMtnOHcvm7exzKdHx335IauxBk29OTkiMECTlCEBduv2VGRgji88uvd90UxGBFVJ7m7h3mTNuLxuU22rkYyzroOzJMhFSiRkTNhQmS3IgSP+QoSFdmZOgyvg8ke5Ck1hBFWmLUe3iUG0YNytPcnaMk0/Fs0QoUVwgy5brJsrmLRiFFltOAyLFDxI2YVtBVSFEJopoASa4gJbokWdLlbQMaQXgDlilPd/cN83O2KpbDnF3roRtnxlCQMWkWY0Ehvq6VIwuqgxC1oAoIswaIekmmtyxAZzZ1pwQVL7G5lKe7u4Z5qe0XQg5Tv6OPQixGRA/jw6RvJagSlIOrWOla47Igr52oudSniaKS5+zPKE97d4yjyxr/yvxcg1fIKVnZSjdqpijejEhgMRxFPSi+7ycI6SVLqgqQ34q6pQhi8p9vSgkyL7HdXbVIFGaBfTNEsIwOFGROLY4k/vr9BAl0BFn2DGkEcb1Tnv7jNUoM9fdzocSL3MhgK7BTvRllyAMx7YDFVMAKnyOQGGla0hC6GqFgRZjCVTeZtUTJVxOXmR6QyNsm0ZiDaP9ia4pDy+opL8t22pjteJ0pWN74sz/JHcmS5+ofEjLMmXZXCdcAFWoxZ9d5ZFKCqhA9LUibSY6WeQTVQlDl/IJYzlQv6JGoOm9QI0gPvKZLDN7EVw8vaXhYmcbCjuJM++MlS+y7zUvsw2oZeqjFpOQIQXXTRP2oPYqcJJKGcAMEKWKC1REKpQniyGE5vm6JJj0SHf+t55aCRIMqML/i4dd5ybSs6bnCTPtfKlO8/cG77oJlzh8wpmx7VbqA90NXDsOR04njGFajWwlyRDWCAmBGJWjUihrUDkHoi7wdEtlPjFHZuz106t3e2xIkMC1tkjFmNlUULG1eU5jpflBRMP8wLbP/C9r3fWjjR0Sa6ElQc+p5Fzm2ddL10kHUGK9WihpewTRi9AVFGpOC/FdjMlOcVrUJGq+TZDnMRBPqeyfSrA+PoXAzvaNJOgfiZMd2pbJ0RJamJ4cRgtJRVMwdBQb7a9gANgkx8wm6+DsPtZwaSsrQQ08OoyuHSRPUHKVQdVIQy5mEnAnIUQtixhsRSYggLtpqQenY+aWCiis+Olc4RKf2DtxSUOGGDn/hKvciRUtycMHdv7gZuTwXTpXB4zcoXDtJ1BVOTVhqwx5JDSJEsmGVsqIQM9X4+QYcryVrjoTJ65FIw98KIVcT5LXGZMbrYzTagNRSGLQR9aEOdbjwMiCpBdHU7CZyoXC7IMt1PUGuYTARJ9dUnHgvLKgEZ/EczBF/nIoODpFxbRflZ7elEB87FeW2PG1EPycXYF6N1FIuv4a3xIr+g3FiWe6L3owEIQgyJPQ0UrkvCZ+zIDfows+Ma2uNnhwmXdBMW4Ima+YKGmE59gT1oQfqgpxWiGmCGEcL3geUu5puLJI9aJsgquyaRGdGE3QSgoQQlqMWVA5Y0iF/jMzlk1RkvKERxMiCeHXi1NGVw6SJEXDU0DD2UliaNaikqNGTw8wR1A5BSCuWM6ZEzbAtTtcgp8eZoC60VW2IHJZjb8UupB27kS6iK+ACOAlRJf0SmUYStB+CTGg+md2QsR0y+MiCLuAxphLnF3FkUaaNPRpBHEVIr+TSrStHCLqBaBCdryBdjEBHDqMnh0kXNNsJQdabgoYghyNHCGI5bpaDyLG2IZM7koLKwBlE0AkU7pLrEuVhtfwDBLEUwZvgFX9UZoM/JHMQ58chrRDf24tztSAmQxTfP4WgxHRirqAuyKlPpGrOgCOBeiPJUhiuN06Wg7SyIHouQ8w5vOzTQJaD9CocQkSgBu2ZTop5FRNnOa/hmOuPKARk1kPSTnxtVtLtzgWh+svUYpZqUXpymDQxAl05OoICaAC9DQk5auSakybI1UxUDzlViByWU4aoYUHHIKZ4UKJ8FOmDSK+D3jgdnLkpiKNmrY6gRf4ZWuUPyhG0xR+eX9Dh3Gay7egn73ks1SpB0vlJLRe9FG/A9/heziiETfG2gcUkSd86COKQpEcMl1Izfg1FGGk0gJWqF/WmE+eiIHNaOVF3akEZOIsUOwtBZ9GC7RlQcR1gid+DqfzGF9Tl+2jqM/B7fNyK91BQsNqjAUXadpwFFeW4qXRNKw2YceX5BF0Al7yyJDqFMOJloRHFuhtL+QivWvpyGD05TLqgSUyOBXVjpWrHkZdxjhoHSAlC9JQhak5ChhlCDwlBN8AE0e/x8l4Fq1WCfnw9SBkuFfiddEH7Bgc1ckwrW2x8awI7cfswC2IcuwY0UZSoxPJdhp7mLJ753IR8Lgu6iCuXgfPodS6ACsz26gzFB2IkeRMfWJAPk2RBvJSr5dRDjAWpVYnjJUTOeUg6jeg5DqFHxucXpJGiRhGkjp59plaNoPzspufl2xW81AtBhcvd15v3DdL0RUQIBHE6yZIgRY4gPiKKZEGCy6Acs4WkSEVQJlofpng3ZN2hoAlMWKRVo5JWDeAq5FyGlLOdALXnLEdQP1E+ju/hyIJehshF1USPXCH6ugUC0HHrymF05OxfXJeSY1zZ7DqUaU/uz7hZZDEgmJTUNOJBl8mCYu4Qxe0BSqBIJ6qmKMFN4W0ISlEdpJgLO3SsTpEbSVESFsYEtmZ6gobQx3Sg9rAYG+DIqYGcCqxY5yHnJKLmKISYMcG9kLMWMp+uIfrvS0QPgS+BjEqAjjsDv68rB6jlMCxHCDKt8szkZzdqPwwoWu7OZUnqSJIjiD/1ZEkOSEK/LtegOxGkwPuq6fo4+dHLBNAtC1npgvogpA3dstzn4JwjpxJyLiJ6uAncW0e0CRGScwpijhP95CzRf5YR/R3E3A8+fxuCuCbpyRGCjM+3VChatMOU7dxqxAZVjVSPQt0eTYJzYjkgUTaj5SLqT3mAIlcgBITKQzRbiU1nVURmGpvPydo4Np5xGrPG6QZ6HcaHVPJh4r4xLIqgA+d2PFaOVYwpayAqrkAKQcQbJSi6IPso0S9OEv0Ykn5whuhBIUXhU3Ux+owzKJPhmtXwJHqU30dm6V30HkxBrluD0eAq4b+AEyhqbg5IMakFnVrXQhJSTBbUitWqDnstlaD4ZUTZlYAshwlWhCgMQQEhpzpCPshhMcyIImcIvU4/epweyGjnggwZjcCBcyGoBJGx9wjRjiLIKSb6tUrOTyDne5DGcj6PupOSgzdhPkH/FZyS5QhBeW+2zxGklqMriIda0OFcV1KSiKJm7Oivoh6pBbGcCqQi6g0LmhFRUx2V5dxKUDtktKEYt6LANnLdQUrx/oojh+Vs2kv02n6il0xESyGI5XDUfOd8Us4XWQwXZEVQhiUh8+mGiIyQ8/DkdEoOc6Cgd44cbE7//bYE5S93/ocQxPdOSlc30bmNbTclIY9jFtQlFqMIilXhsauhlKApvgsIMV4wrqTWMGoQy+F9VSe6Y6YdUjygCaIcEFULOZVYpTitOHJYzgsnIAf8FII4rR6GnG9dJvqykCOToE+hzgk+g9fIsJxvDvg1cnZbbsyRY1ratILnfluCeBizHT8XggRXNnemJIVaE1jKI3LkyIIgh+HI8SlyJvBCR62SLEjUnGu2BDpkiToaJWqFEA9kOLASWZAm5QzOefNpqkc/cwz9DCInC3IWnSb6EY6i5qQiR+FT1mgqrZjPdXtl7muf0cjZ1TtJeQaXRo4xs3G7Mu3bF8TDaHAsVwtiLNt7UoJkSXVhilUmo0ctaBJyWMx4bQJpJclyBhA5nFZqQXbIsEDKRcg5y+Cc+xxTHwSVE61H1CwCLOdHEJOqOSo5jFqOWpBaDsNy1IIg56QyXXnckSAeh7LrNuZn16Or1DKLVEh4IjJBV5x8aMqYSStWK4UxpNR1SGEGsXTzza4O4EGf40bNceEaVhzLEA0nLyKtwEl8/yTk5KNhZFYilX4O/hV8A2RUxykD0ZlhAXysQ51BU5rRFNDwZ8M+2kIhFGMuyMA6SnkrmlOYspzxgiynWZnmHzf0JFneG6SIOyYTbUZKpQkaq4/JN7qEIL5N2qnc7HJzvYEY7nMq8dhpCCrF5ItAKb53hDtkyNl9IyHzJB5/EHyRBbEUIagmmpRjQ61JE8RyUoLc4xo5zILJESNdEv/5bu3eIQo1xuQoUgsSt0jFncBeNIfcHbdh8s2QwhvOOgiqgqwy1JpSCOKibATFWMUKsW04MCTRtuG4LOiXEPM3LEdPEMtBE6sRBCEpQT2oOWlyTCvcS5VpLexQS2JBR9e20aRTK4jFCPhuIMth+AY7p5UTG02OnCr0O2Xodo+jfhRCkLEKu3JgRKN4ANuIdyFnK2BJm0Zj9I93IEikF5Mux7ii2fShfiSdb6ivEIIYUYvUgq7b40oxTlA3lnIuxo2Qw3urWkRIFc7PI3KOo9hy5ByCoANXsWEEB5Beu5Fe70AMs3kkRq+MRSh7EiJYEMvQA1EjuKUgyPnIBTFCkKg5LIjliNXKhqjhG11VoAzRdBwbzCIU5TywB4L21Cpgj/wuEII2jkVp5USInvEF6HG/X18O83ERVLC8aRy7fWxom+nK+g4KYcVhJrBj7weDKMYDqDfihpcoyPWQWI+deBlklUKOCUu4Cel1EKnCvAe28nEkTFvBJm+ENvjCtH4qLN8SfSYwK/PVmJcyGieQWpDFOKbQDE5iYzpwE28PvUhemV37PZoPQpVpfDjjkKH+/oLljTNCkGVbP81CDjMCOb0sSUeOtUWiGgjim11nUHeKIcaIqDmI494aSAFbwSawfTxMm8FvIec3UyH69XSIcmaSgn4FfjAFQfbpm4Kc+Lp5ZF5BW491aASZcpq+pkxn4Yf82X12U0wIshlHaAZymEHI6QZ8J1B8NMNy6lolqvZIyfs52F+VclFGMc7HcQ/YBSnbwBtgA1qDt7xhehWsQ+SsVuRkzgboWchZguNj0156KAApLcOIHl9SEJ8LOa0dlDHYnBK0uapbKwhzUKaz8MNkcP6E5QhBLRenyQc5DEdPB0iPHAvkXGmTqAwF+gTXHUROHgRxUd4FtqEteA28DNbYo/QqpKwFInJYDkfPouAsPY3jo34vfTPspfujInIgp+06jt1JWlspo8eRErSxc0AjqMDgeEqZzsKPgmznGrWgTkeYvJDDsJw2wJHjVMkph5zzHRIdRWqZsWrlcUFG5OysI9oO3kLUrAcvgBxXlNYFQrQasByOmF9CzM9CM/R42E//A74z46VvB730QASCuvsgoycJixFA0NL4uCxo7cR1jaBCg/MlZToLPwoMjdvUgvohZkKhFXIYuSCr5Fxsl+h0pyQXZC7M+xA9O7BavY10YzY1ROkFkAOWuHEeghzAkcNyfgo5P4SYx6LT9Ghsiv4ecr4OOffFvfRZCZLmEfQNpQ6tpuF0QTuV6Sz8MBqcJkBMUY6LxtHQMQPuMLUDJ7BAkAXNYFUn0ZUeiU61JMiIzet+SBG8VyvRm7WoObURMti9ZGiaIoNnmgy9s2QYDZPBH6PFs376v8A0/Sg4Rd8LeenhyCT9Q3SCHoii7kTHtPQ2UkZ7tZYxNy2lUXqSRsi0pomXd4UmkzKdhR/5Wc7zQpD51800AjlMtydKbtAAKiGnHCl1CVFzBrv9EkeMDkHQduzsBW+j3rxiw/KNXfcTEPQEBD0BQb+AoF8pgv4XYh4L+ejfUG+Yf4agB2JpYgSBIcoYds0r6NB67NqFoDVNZ5TpLPwwZjltQtCxDR4ahBymrT1KDlALrnRLdKEngbRKkNkWI1MdoscSod2Imm1WdMZ4bKM9Qi86Q7TCFZAFPQU5mQMByhwJ0VOTEXpCJegRyPmnyAT9bWycvpwY1RfEQMh8gva+3pISZFrTWKNMZ+EHBLUJQae2dFMf5DAuCKkBVaCsFzWnO0FHPXEyCjlXk4K2IHI22CL0gj1I2XYs2/YZWVBO3yy9GYjTroREu0I4Kin2Xcj5NtLqm5DzVZaDeqIrh5lup4whNII6gnZt99yMoFWubmU6Cz/ysxyDQtC59/qoC3IYa1+CKkA5ONeboGPtcSrCLn8fxOyyhLFaofnjmmON0CprkHJtiBbnDD3j8ssyDkBKEeQURRN0wBelXUNB2unDUu+flWvQV4QcGaxcesSvJemqSQnKlEZkQdv3tKUE5a9yeZXpLPzINzjHhaCyQ4PUDjmMBZQpnIag4hbUHRsmWhWmbdVhesuKdKoN0ArsmVa0BujF3hC9PRGj/SGiEkJXDTF7OIKm8Dtj4ZQg5p2pIK2DqB8GfckUk3r1EYJEqqkEbTF23IwgoExn4YfR4IKcJGU7x6gVQhgh5wgwdqEBxHbjHaxWaja0eGlL3wztwT6raAbFOwg5CofrfVSYN8AFNHVrdzN3wTpkEGToEfLMYTEibvHsKL1+sp0O51plinKbe5XpLPy4laATiqB0MSyLpe1EVBin4hoxTOGxITK96tHc92bEv8PYWjugEbSafDKP0wR9hbC1+JgJCglB57aOUvs1NIeQchkcU2Ape9ELHe7HxnSS6MJ0khKvlsOXJuZIUWNeYpNhSe/9zk3bqvo1gpjF4BEU4vcT9HZB60cjCH0QinRS0LGXrlN/WJIFXQXnFISQdGQpFqTSAaTS6pupNB9CkBqWteVkL718bXSOKJYxR44iKH+d7aOKIO6kk4KOrBwkZ8MstXaFqQ5iRB1KF3PUNkb736nTlaCmeHHDs/zvzJiSTPt3ijNt24uXNIylS+J/98rs39iiEZUSksb66p6UHMa03PW2Mp2FH4cMjsfUgpg5ghRO22bxzjWl/mpCTwrDMliK8hSpUZrV8A3G/JytVE+QWhRH1Wu1vXPk8GNqOYxy+Q9v7FjmPrU/t5cKV3t0ycuy6pKfCyEKphybpXCF/XHlkrc1CjJtLxb/yj5ZsNRJepTguszO7S204VRP6uu0/0Vmo3K5D3fsXNZSqSeH0ZPDGHPsrsJc+0vmlY5vKZf5QOPwUtejRZnOwwWZzmE9QcZ1Ltr7hnuOoJKVtfp/8/NhjZ2G3ivvIyiUl1U3aDLU7TaurP2jpOiNwkz7g0VLHW8IQeZc22hJjm1WiGH4sY80cvTGwVyHk1EJ6jJl1+0ozK37eeGqD/AP1u5wlBha/pyjypxjO2hGlGoE4bEjK+oeVX70A4yMjP8HMpXK+pUKBAwAAAAASUVORK5CYII=\"","import { makeStyles } from \"@material-ui/core\";\n\nexport const useSvgStyles = makeStyles(() => ({\n  svg: {\n    display: \"block\",\n    width: \"100%\",\n    height: \"100%\",\n    pointerEvents: \"none\",\n  },\n  skeleton: {\n    width: \"100%\",\n    paddingTop: \"100%\",\n  },\n}));\n","import { Grid } from \"@material-ui/core\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport React, { useEffect, useState } from \"react\";\nimport { ICardInfo } from \"../../types\";\nimport { useCachedData } from \"../../utils\";\n\nimport rarityNormal from \"../../assets/rarity_star_normal.png\";\nimport rarityAfterTraining from \"../../assets/rarity_star_afterTraining.png\";\nimport { useSvgStyles } from \"../../styles/svg\";\nimport { attrIconMap, cardThumbFrameMap } from \"../../utils/resources\";\n\nexport const CardThumb: React.FC<{ id: number; trained?: boolean }> = ({\n  id,\n  trained = false,\n}) => {\n  const skeleton = CardThumbSkeleton({});\n\n  const classes = useSvgStyles();\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n  const [card, setCard] = useState<ICardInfo>();\n\n  useEffect(() => {\n    if (cards.length) setCard(cards.find((elem) => elem.id === id));\n  }, [cards, id]);\n\n  const rarityIcon = trained ? rarityAfterTraining : rarityNormal;\n\n  return card ? (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 156 156\"\n      className={classes.svg}\n    >\n      <image\n        href={`${\n          process.env.REACT_APP_ASSET_DOMAIN\n        }/file/sekai-assets/thumbnail/chara_rip/${card.assetbundleName}_${\n          trained ? \"after_training\" : \"normal\"\n        }.webp`}\n        x=\"8\"\n        y=\"8\"\n        height=\"140\"\n        width=\"140\"\n      />\n      {/* frame */}\n      <image\n        href={cardThumbFrameMap[String(card.rarity)]}\n        x=\"0\"\n        y=\"0\"\n        height=\"156\"\n        width=\"156\"\n      />\n      {/* attr */}\n      <image href={attrIconMap[card.attr]} x=\"0\" y=\"0\" width=\"35\" height=\"35\" />\n      {/* rarity */}\n      {Array.from({ length: card.rarity }).map((_, i) => (\n        <image\n          key={`card-rarity-${i}`}\n          href={rarityIcon}\n          x={i * 22 + 8}\n          y=\"124\"\n          width=\"22\"\n          height=\"22\"\n        />\n      ))}\n    </svg>\n  ) : (\n    skeleton\n  );\n};\n\nexport const CardThumbSkeleton: React.FC<{}> = () => {\n  const classes = useSvgStyles();\n\n  return <Skeleton variant=\"rect\" className={classes.skeleton}></Skeleton>;\n};\n\nexport const CardThumbs: React.FC<{ cardIds: number[] }> = ({ cardIds }) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      spacing={2}\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {cardIds.map((cardId, id) => (\n        <Grid key={id} item xs={4} sm={2}>\n          <CardThumb id={cardId} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport const CardThumbsSkeleton: React.FC<{ length: number }> = ({\n  length = 1,\n}) => {\n  return (\n    <Grid\n      container\n      direction=\"row\"\n      spacing={2}\n      justify=\"center\"\n      alignItems=\"center\"\n    >\n      {Array.from({ length }).map((_, id) => (\n        <Grid key={id} item xs={4} md={2}>\n          <CardThumbSkeleton></CardThumbSkeleton>\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n","export function characterSelectReducer(\n  state: number[],\n  action: { type: \"add\" | \"remove\" | \"reset\"; payload: number }\n) {\n  switch (action.type) {\n    case \"add\":\n      return [...state, action.payload];\n    case \"remove\":\n      return [\n        ...state.slice(0, state.indexOf(action.payload)),\n        ...state.slice(state.indexOf(action.payload) + 1),\n      ];\n    case \"reset\":\n      return [];\n    default:\n      throw new Error();\n  }\n}\n","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport PropTypes from 'prop-types';\nimport merge from './merge';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n}\n\nfunction css(styleFunction) {\n  var newStyleFunction = function newStyleFunction(props) {\n    var output = styleFunction(props);\n\n    if (props.css) {\n      return _extends(_extends({}, merge(output, styleFunction(_extends({\n        theme: props.theme\n      }, props.css)))), omit(props.css, [styleFunction.filterProps]));\n    }\n\n    return output;\n  };\n\n  newStyleFunction.propTypes = process.env.NODE_ENV !== 'production' ? _extends(_extends({}, styleFunction.propTypes), {}, {\n    css: PropTypes.object\n  }) : {};\n  newStyleFunction.filterProps = ['css'].concat(_toConsumableArray(styleFunction.filterProps));\n  return newStyleFunction;\n}\n\nexport default css;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport merge from './merge';\n\nfunction compose() {\n  for (var _len = arguments.length, styles = new Array(_len), _key = 0; _key < _len; _key++) {\n    styles[_key] = arguments[_key];\n  }\n\n  var fn = function fn(props) {\n    return styles.reduce(function (acc, style) {\n      var output = style(props);\n\n      if (output) {\n        return merge(acc, output);\n      }\n\n      return acc;\n    }, {});\n  }; // Alternative approach that doesn't yield any performance gain.\n  // const handlers = styles.reduce((acc, style) => {\n  //   style.filterProps.forEach(prop => {\n  //     acc[prop] = style;\n  //   });\n  //   return acc;\n  // }, {});\n  // const fn = props => {\n  //   return Object.keys(props).reduce((acc, prop) => {\n  //     if (handlers[prop]) {\n  //       return merge(acc, handlers[prop](props));\n  //     }\n  //     return acc;\n  //   }, {});\n  // };\n\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? styles.reduce(function (acc, style) {\n    return _extends(acc, style.propTypes);\n  }, {}) : {};\n  fn.filterProps = styles.reduce(function (acc, style) {\n    return acc.concat(style.filterProps);\n  }, []);\n  return fn;\n}\n\nexport default compose;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport responsivePropType from './responsivePropType';\nimport { handleBreakpoints } from './breakpoints';\n\nfunction getPath(obj, path) {\n  if (!path || typeof path !== 'string') {\n    return null;\n  }\n\n  return path.split('.').reduce(function (acc, item) {\n    return acc && acc[item] ? acc[item] : null;\n  }, obj);\n}\n\nfunction style(options) {\n  var prop = options.prop,\n      _options$cssProperty = options.cssProperty,\n      cssProperty = _options$cssProperty === void 0 ? options.prop : _options$cssProperty,\n      themeKey = options.themeKey,\n      transform = options.transform;\n\n  var fn = function fn(props) {\n    if (props[prop] == null) {\n      return null;\n    }\n\n    var propValue = props[prop];\n    var theme = props.theme;\n    var themeMapping = getPath(theme, themeKey) || {};\n\n    var styleFromPropValue = function styleFromPropValue(propValueFinal) {\n      var value;\n\n      if (typeof themeMapping === 'function') {\n        value = themeMapping(propValueFinal);\n      } else if (Array.isArray(themeMapping)) {\n        value = themeMapping[propValueFinal] || propValueFinal;\n      } else {\n        value = getPath(themeMapping, propValueFinal) || propValueFinal;\n\n        if (transform) {\n          value = transform(value);\n        }\n      }\n\n      if (cssProperty === false) {\n        return value;\n      }\n\n      return _defineProperty({}, cssProperty, value);\n    };\n\n    return handleBreakpoints(props, propValue, styleFromPropValue);\n  };\n\n  fn.propTypes = process.env.NODE_ENV !== 'production' ? _defineProperty({}, prop, responsivePropType) : {};\n  fn.filterProps = [prop];\n  return fn;\n}\n\nexport default style;","import style from './style';\nimport compose from './compose';\n\nfunction getBorder(value) {\n  if (typeof value !== 'number') {\n    return value;\n  }\n\n  return \"\".concat(value, \"px solid\");\n}\n\nexport var border = style({\n  prop: 'border',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderTop = style({\n  prop: 'borderTop',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderRight = style({\n  prop: 'borderRight',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderBottom = style({\n  prop: 'borderBottom',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderLeft = style({\n  prop: 'borderLeft',\n  themeKey: 'borders',\n  transform: getBorder\n});\nexport var borderColor = style({\n  prop: 'borderColor',\n  themeKey: 'palette'\n});\nexport var borderRadius = style({\n  prop: 'borderRadius',\n  themeKey: 'shape'\n});\nvar borders = compose(border, borderTop, borderRight, borderBottom, borderLeft, borderColor, borderRadius);\nexport default borders;","import style from './style';\nimport compose from './compose';\nexport var displayPrint = style({\n  prop: 'displayPrint',\n  cssProperty: false,\n  transform: function transform(value) {\n    return {\n      '@media print': {\n        display: value\n      }\n    };\n  }\n});\nexport var displayRaw = style({\n  prop: 'display'\n});\nexport var overflow = style({\n  prop: 'overflow'\n});\nexport var textOverflow = style({\n  prop: 'textOverflow'\n});\nexport var visibility = style({\n  prop: 'visibility'\n});\nexport var whiteSpace = style({\n  prop: 'whiteSpace'\n});\nexport default compose(displayPrint, displayRaw, overflow, textOverflow, visibility, whiteSpace);","import style from './style';\nimport compose from './compose';\nexport var flexBasis = style({\n  prop: 'flexBasis'\n});\nexport var flexDirection = style({\n  prop: 'flexDirection'\n});\nexport var flexWrap = style({\n  prop: 'flexWrap'\n});\nexport var justifyContent = style({\n  prop: 'justifyContent'\n});\nexport var alignItems = style({\n  prop: 'alignItems'\n});\nexport var alignContent = style({\n  prop: 'alignContent'\n});\nexport var order = style({\n  prop: 'order'\n});\nexport var flex = style({\n  prop: 'flex'\n});\nexport var flexGrow = style({\n  prop: 'flexGrow'\n});\nexport var flexShrink = style({\n  prop: 'flexShrink'\n});\nexport var alignSelf = style({\n  prop: 'alignSelf'\n});\nexport var justifyItems = style({\n  prop: 'justifyItems'\n});\nexport var justifySelf = style({\n  prop: 'justifySelf'\n});\nvar flexbox = compose(flexBasis, flexDirection, flexWrap, justifyContent, alignItems, alignContent, order, flex, flexGrow, flexShrink, alignSelf, justifyItems, justifySelf);\nexport default flexbox;","import style from './style';\nimport compose from './compose';\nexport var gridGap = style({\n  prop: 'gridGap'\n});\nexport var gridColumnGap = style({\n  prop: 'gridColumnGap'\n});\nexport var gridRowGap = style({\n  prop: 'gridRowGap'\n});\nexport var gridColumn = style({\n  prop: 'gridColumn'\n});\nexport var gridRow = style({\n  prop: 'gridRow'\n});\nexport var gridAutoFlow = style({\n  prop: 'gridAutoFlow'\n});\nexport var gridAutoColumns = style({\n  prop: 'gridAutoColumns'\n});\nexport var gridAutoRows = style({\n  prop: 'gridAutoRows'\n});\nexport var gridTemplateColumns = style({\n  prop: 'gridTemplateColumns'\n});\nexport var gridTemplateRows = style({\n  prop: 'gridTemplateRows'\n});\nexport var gridTemplateAreas = style({\n  prop: 'gridTemplateAreas'\n});\nexport var gridArea = style({\n  prop: 'gridArea'\n});\nvar grid = compose(gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea);\nexport default grid;","import style from './style';\nimport compose from './compose';\nexport var position = style({\n  prop: 'position'\n});\nexport var zIndex = style({\n  prop: 'zIndex',\n  themeKey: 'zIndex'\n});\nexport var top = style({\n  prop: 'top'\n});\nexport var right = style({\n  prop: 'right'\n});\nexport var bottom = style({\n  prop: 'bottom'\n});\nexport var left = style({\n  prop: 'left'\n});\nexport default compose(position, zIndex, top, right, bottom, left);","import style from './style';\nimport compose from './compose';\nexport var color = style({\n  prop: 'color',\n  themeKey: 'palette'\n});\nexport var bgcolor = style({\n  prop: 'bgcolor',\n  cssProperty: 'backgroundColor',\n  themeKey: 'palette'\n});\nvar palette = compose(color, bgcolor);\nexport default palette;","import style from './style';\nvar boxShadow = style({\n  prop: 'boxShadow',\n  themeKey: 'shadows'\n});\nexport default boxShadow;","import style from './style';\nimport compose from './compose';\n\nfunction transform(value) {\n  return value <= 1 ? \"\".concat(value * 100, \"%\") : value;\n}\n\nexport var width = style({\n  prop: 'width',\n  transform: transform\n});\nexport var maxWidth = style({\n  prop: 'maxWidth',\n  transform: transform\n});\nexport var minWidth = style({\n  prop: 'minWidth',\n  transform: transform\n});\nexport var height = style({\n  prop: 'height',\n  transform: transform\n});\nexport var maxHeight = style({\n  prop: 'maxHeight',\n  transform: transform\n});\nexport var minHeight = style({\n  prop: 'minHeight',\n  transform: transform\n});\nexport var sizeWidth = style({\n  prop: 'size',\n  cssProperty: 'width',\n  transform: transform\n});\nexport var sizeHeight = style({\n  prop: 'size',\n  cssProperty: 'height',\n  transform: transform\n});\nexport var boxSizing = style({\n  prop: 'boxSizing'\n});\nvar sizing = compose(width, maxWidth, minWidth, height, maxHeight, minHeight, boxSizing);\nexport default sizing;","import style from './style';\nimport compose from './compose';\nexport var fontFamily = style({\n  prop: 'fontFamily',\n  themeKey: 'typography'\n});\nexport var fontSize = style({\n  prop: 'fontSize',\n  themeKey: 'typography'\n});\nexport var fontStyle = style({\n  prop: 'fontStyle',\n  themeKey: 'typography'\n});\nexport var fontWeight = style({\n  prop: 'fontWeight',\n  themeKey: 'typography'\n});\nexport var letterSpacing = style({\n  prop: 'letterSpacing'\n});\nexport var lineHeight = style({\n  prop: 'lineHeight'\n});\nexport var textAlign = style({\n  prop: 'textAlign'\n});\nvar typography = compose(fontFamily, fontSize, fontStyle, fontWeight, letterSpacing, lineHeight, textAlign);\nexport default typography;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes, getDisplayName } from '@material-ui/utils';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport makeStyles from '../makeStyles';\n\nfunction omit(input, fields) {\n  var output = {};\n  Object.keys(input).forEach(function (prop) {\n    if (fields.indexOf(prop) === -1) {\n      output[prop] = input[prop];\n    }\n  });\n  return output;\n} // styled-components's API removes the mapping between components and styles.\n// Using components as a low-level styling construct can be simpler.\n\n\nexport default function styled(Component) {\n  var componentCreator = function componentCreator(style) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var name = options.name,\n        stylesOptions = _objectWithoutProperties(options, [\"name\"]);\n\n    if (process.env.NODE_ENV !== 'production' && Component === undefined) {\n      throw new Error(['You are calling styled(Component)(style) with an undefined component.', 'You may have forgotten to import it.'].join('\\n'));\n    }\n\n    var classNamePrefix = name;\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (!name) {\n        // Provide a better DX outside production.\n        var displayName = getDisplayName(Component);\n\n        if (displayName !== undefined) {\n          classNamePrefix = displayName;\n        }\n      }\n    }\n\n    var stylesOrCreator = typeof style === 'function' ? function (theme) {\n      return {\n        root: function root(props) {\n          return style(_extends({\n            theme: theme\n          }, props));\n        }\n      };\n    } : {\n      root: style\n    };\n    var useStyles = makeStyles(stylesOrCreator, _extends({\n      Component: Component,\n      name: name || Component.displayName,\n      classNamePrefix: classNamePrefix\n    }, stylesOptions));\n    var filterProps;\n    var propTypes = {};\n\n    if (style.filterProps) {\n      filterProps = style.filterProps;\n      delete style.filterProps;\n    }\n    /* eslint-disable react/forbid-foreign-prop-types */\n\n\n    if (style.propTypes) {\n      propTypes = style.propTypes;\n      delete style.propTypes;\n    }\n    /* eslint-enable react/forbid-foreign-prop-types */\n\n\n    var StyledComponent = React.forwardRef(function StyledComponent(props, ref) {\n      var children = props.children,\n          classNameProp = props.className,\n          clone = props.clone,\n          ComponentProp = props.component,\n          other = _objectWithoutProperties(props, [\"children\", \"className\", \"clone\", \"component\"]);\n\n      var classes = useStyles(props);\n      var className = clsx(classes.root, classNameProp);\n      var spread = other;\n\n      if (filterProps) {\n        spread = omit(spread, filterProps);\n      }\n\n      if (clone) {\n        return React.cloneElement(children, _extends({\n          className: clsx(children.props.className, className)\n        }, spread));\n      }\n\n      if (typeof children === 'function') {\n        return children(_extends({\n          className: className\n        }, spread));\n      }\n\n      var FinalComponent = ComponentProp || Component;\n      return /*#__PURE__*/React.createElement(FinalComponent, _extends({\n        ref: ref,\n        className: className\n      }, spread), children);\n    });\n    process.env.NODE_ENV !== \"production\" ? StyledComponent.propTypes = _extends({\n      /**\n       * A render function or node.\n       */\n      children: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /**\n       * @ignore\n       */\n      className: PropTypes.string,\n\n      /**\n       * If `true`, the component will recycle it's children HTML element.\n       * It's using `React.cloneElement` internally.\n       *\n       * This prop will be deprecated and removed in v5\n       */\n      clone: chainPropTypes(PropTypes.bool, function (props) {\n        if (props.clone && props.component) {\n          return new Error('You can not use the clone and component prop at the same time.');\n        }\n\n        return null;\n      }),\n\n      /**\n       * The component used for the root node.\n       * Either a string to use a HTML element or a component.\n       */\n      component: PropTypes.elementType\n    }, propTypes) : void 0;\n\n    if (process.env.NODE_ENV !== 'production') {\n      StyledComponent.displayName = \"Styled(\".concat(classNamePrefix, \")\");\n    }\n\n    hoistNonReactStatics(StyledComponent, Component);\n    return StyledComponent;\n  };\n\n  return componentCreator;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport { styled as styledWithoutDefault } from '@material-ui/styles';\nimport defaultTheme from './defaultTheme';\n\nvar styled = function styled(Component) {\n  var componentCreator = styledWithoutDefault(Component);\n  return function (style, options) {\n    return componentCreator(style, _extends({\n      defaultTheme: defaultTheme\n    }, options));\n  };\n};\n\nexport default styled;","import { borders, compose, display, flexbox, grid, palette, positions, shadows, sizing, spacing, typography, css } from '@material-ui/system';\nimport styled from '../styles/styled';\nexport var styleFunction = css(compose(borders, display, flexbox, grid, positions, palette, shadows, sizing, spacing, typography));\n/**\n * @ignore - do not document.\n */\n\nvar Box = styled('div')(styleFunction, {\n  name: 'MuiBox'\n});\nexport default Box;","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport Person from '../internal/svg-icons/Person';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      position: 'relative',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      flexShrink: 0,\n      width: 40,\n      height: 40,\n      fontFamily: theme.typography.fontFamily,\n      fontSize: theme.typography.pxToRem(20),\n      lineHeight: 1,\n      borderRadius: '50%',\n      overflow: 'hidden',\n      userSelect: 'none'\n    },\n\n    /* Styles applied to the root element if not `src` or `srcSet`. */\n    colorDefault: {\n      color: theme.palette.background.default,\n      backgroundColor: theme.palette.type === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n    },\n\n    /* Styles applied to the root element if `variant=\"circle\"`. */\n    circle: {},\n\n    /* Styles applied to the root element if `variant=\"rounded\"`. */\n    rounded: {\n      borderRadius: theme.shape.borderRadius\n    },\n\n    /* Styles applied to the root element if `variant=\"square\"`. */\n    square: {\n      borderRadius: 0\n    },\n\n    /* Styles applied to the img element if either `src` or `srcSet` is defined. */\n    img: {\n      width: '100%',\n      height: '100%',\n      textAlign: 'center',\n      // Handle non-square image. The property isn't supported by IE 11.\n      objectFit: 'cover',\n      // Hide alt text.\n      color: 'transparent',\n      // Hide the image broken icon, only works on Chrome.\n      textIndent: 10000\n    },\n\n    /* Styles applied to the fallback icon */\n    fallback: {\n      width: '75%',\n      height: '75%'\n    }\n  };\n};\n\nfunction useLoaded(_ref) {\n  var src = _ref.src,\n      srcSet = _ref.srcSet;\n\n  var _React$useState = React.useState(false),\n      loaded = _React$useState[0],\n      setLoaded = _React$useState[1];\n\n  React.useEffect(function () {\n    if (!src && !srcSet) {\n      return undefined;\n    }\n\n    setLoaded(false);\n    var active = true;\n    var image = new Image();\n    image.src = src;\n    image.srcSet = srcSet;\n\n    image.onload = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('loaded');\n    };\n\n    image.onerror = function () {\n      if (!active) {\n        return;\n      }\n\n      setLoaded('error');\n    };\n\n    return function () {\n      active = false;\n    };\n  }, [src, srcSet]);\n  return loaded;\n}\n\nvar Avatar = /*#__PURE__*/React.forwardRef(function Avatar(props, ref) {\n  var alt = props.alt,\n      childrenProp = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'div' : _props$component,\n      imgProps = props.imgProps,\n      sizes = props.sizes,\n      src = props.src,\n      srcSet = props.srcSet,\n      _props$variant = props.variant,\n      variant = _props$variant === void 0 ? 'circle' : _props$variant,\n      other = _objectWithoutProperties(props, [\"alt\", \"children\", \"classes\", \"className\", \"component\", \"imgProps\", \"sizes\", \"src\", \"srcSet\", \"variant\"]);\n\n  var children = null; // Use a hook instead of onError on the img element to support server-side rendering.\n\n  var loaded = useLoaded({\n    src: src,\n    srcSet: srcSet\n  });\n  var hasImg = src || srcSet;\n  var hasImgNotFailing = hasImg && loaded !== 'error';\n\n  if (hasImgNotFailing) {\n    children = /*#__PURE__*/React.createElement(\"img\", _extends({\n      alt: alt,\n      src: src,\n      srcSet: srcSet,\n      sizes: sizes,\n      className: classes.img\n    }, imgProps));\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (hasImg && alt) {\n    children = alt[0];\n  } else {\n    children = /*#__PURE__*/React.createElement(Person, {\n      className: classes.fallback\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Component, _extends({\n    className: clsx(classes.root, classes.system, classes[variant], className, !hasImgNotFailing && classes.colorDefault),\n    ref: ref\n  }, other), children);\n});\nprocess.env.NODE_ENV !== \"production\" ? Avatar.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Used in combination with `src` or `srcSet` to\n   * provide an alt attribute for the rendered `img` element.\n   */\n  alt: PropTypes.string,\n\n  /**\n   * Used to render icon or text elements inside the Avatar if `src` is not set.\n   * This can be an element, or just a string.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .elementType,\n\n  /**\n   * Attributes applied to the `img` element if the component is used to display an image.\n   * It can be used to listen for the loading error event.\n   */\n  imgProps: PropTypes.object,\n\n  /**\n   * The `sizes` attribute for the `img` element.\n   */\n  sizes: PropTypes.string,\n\n  /**\n   * The `src` attribute for the `img` element.\n   */\n  src: PropTypes.string,\n\n  /**\n   * The `srcSet` attribute for the `img` element.\n   * Use this attribute for responsive image display.\n   */\n  srcSet: PropTypes.string,\n\n  /**\n   * The shape of the avatar.\n   */\n  variant: PropTypes.oneOf(['circle', 'rounded', 'square'])\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiAvatar'\n})(Avatar);","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M20 13H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1v-6c0-.55-.45-1-1-1zm0-10H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V4c0-.55-.45-1-1-1z\"\n}), 'ViewAgenda');","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M3 9h4V5H3v4zm0 5h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zM8 9h4V5H8v4zm5-4v4h4V5h-4zm5 9h4v-4h-4v4zM3 19h4v-4H3v4zm5 0h4v-4H8v4zm5 0h4v-4h-4v4zm5 0h4v-4h-4v4zm0-14v4h4V5h-4z\"\n}), 'ViewComfy');","import { Skeleton } from \"@material-ui/lab\";\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { useSvgStyles } from \"../../styles/svg\";\nimport { ICardInfo } from \"../../types\";\nimport { useCachedData, useRefState } from \"../../utils\";\n\nimport rarityNormal from \"../../assets/rarity_star_normal.png\";\nimport rarityAfterTraining from \"../../assets/rarity_star_afterTraining.png\";\nimport { attrIconMap, cardImageFrameMap } from \"../../utils/resources\";\n\nexport const CardImage: React.FC<{ id: number; trained?: boolean }> = ({\n  id,\n  trained = false,\n}) => {\n  const skeleton = CardImageSkeleton({});\n\n  const classes = useSvgStyles();\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n  const [card, setCard] = useState<ICardInfo>();\n\n  const rarityIcon = trained ? rarityAfterTraining : rarityNormal;\n\n  useEffect(() => {\n    if (cards.length) setCard(cards.find((elem) => elem.id === id));\n  }, [cards, id]);\n\n  return card ? (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 1024 576\"\n      className={classes.svg}\n    >\n      <image\n        href={`${\n          process.env.REACT_APP_ASSET_DOMAIN\n        }/file/sekai-assets/character/member/${card.assetbundleName}_rip/card_${\n          trained ? \"after_training\" : \"normal\"\n        }.webp`}\n        x=\"0\"\n        y=\"-50\"\n        width=\"1024\"\n        height=\"630.5\"\n        preserveAspectRatio=\"xMidyMid slice\"\n      ></image>\n      {/* frame */}\n      <image\n        href={cardImageFrameMap[card.rarity]}\n        x=\"0\"\n        y=\"0\"\n        width=\"1024\"\n        height=\"576\"\n      ></image>\n      {/* attr */}\n      <image\n        href={attrIconMap[card.attr]}\n        x=\"920\"\n        y=\"16\"\n        width=\"88\"\n        height=\"88\"\n      />\n      {/* rarity */}\n      {Array.from({ length: card.rarity }).map((_, i) => (\n        <image\n          key={`card-rarity-${i}`}\n          href={rarityIcon}\n          x={i * 72 + 16}\n          y=\"490\"\n          width=\"72\"\n          height=\"70\"\n        />\n      ))}\n    </svg>\n  ) : (\n    skeleton\n  );\n};\n\nexport const CardSmallImage: React.FC<{ id: number }> = ({ id }) => {\n  const skeleton = CardImageSkeleton({});\n\n  const classes = useSvgStyles();\n  const [cards] = useCachedData<ICardInfo>(\"cards\");\n  const [card, setCard] = useState<ICardInfo>();\n\n  const [hoveredArea, setHoveredArea] = useState<number>(0);\n  const [imgLeftX, refImgLeftX, setImgLeftX] = useRefState<number>(-256);\n  const [imgRightX, refImgRightX, setImgRightX] = useRefState<number>(512);\n\n  const rarityIcon =\n    card && card.rarity >= 3 ? rarityAfterTraining : rarityNormal;\n\n  useEffect(() => {\n    if (cards.length) setCard(cards.find((elem) => elem.id === id));\n  }, [cards, id]);\n\n  useEffect(() => {\n    if (hoveredArea === 2) {\n      const interval = setInterval(() => {\n        if (refImgLeftX.current < 0) {\n          setImgLeftX((x) => Math.floor(x + 10 * (-x / 256)));\n          setImgRightX((x) => Math.floor(x + 10 * ((768 - x) / 256)));\n        } else {\n          clearInterval(interval);\n        }\n      }, 5);\n      return () => clearInterval(interval);\n    } else if (hoveredArea === 1) {\n      const interval = setInterval(() => {\n        if (refImgRightX.current > 256) {\n          setImgLeftX((x) => Math.floor(x - 10 * ((512 + x) / 256)));\n          setImgRightX((x) => Math.floor(x - 10 * ((x - 256) / 256)));\n        } else {\n          clearInterval(interval);\n        }\n      }, 5);\n      return () => clearInterval(interval);\n    } else if (hoveredArea === 0) {\n      const interval = setInterval(() => {\n        if (refImgLeftX.current > -256) {\n          setImgLeftX((x) => Math.floor(x - 10 * ((256 + x) / 256)));\n          setImgRightX((x) => Math.floor(x - 10 * ((x - 512) / 256)));\n        } else if (refImgLeftX.current < -256) {\n          setImgLeftX((x) => Math.floor(x + 10 * ((-256 - x) / 256)));\n          setImgRightX((x) => Math.floor(x + 10 * ((512 - x) / 256)));\n        } else {\n          clearInterval(interval);\n        }\n      }, 5);\n      return () => clearInterval(interval);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [hoveredArea]);\n\n  return card ? (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 1024 576\"\n      className={classes.svg}\n      onMouseLeave={() => setHoveredArea(0)}\n    >\n      {card.rarity >= 3 ? (\n        <Fragment>\n          <svg\n            x={imgRightX}\n            y=\"0\"\n            width=\"768\"\n            height=\"576\"\n            preserveAspectRatio=\"xMaxYMid slice\"\n            viewBox=\"0 0 1024 576\"\n            onMouseOver={() => setHoveredArea(1)}\n            style={{ pointerEvents: \"all\" }}\n          >\n            <image\n              width=\"1024\"\n              height=\"576\"\n              href={`${process.env.REACT_APP_ASSET_DOMAIN}/file/sekai-assets/character/member_small/${card.assetbundleName}_rip/card_after_training.webp`}\n            ></image>\n          </svg>\n          <svg\n            x={imgLeftX}\n            y=\"0\"\n            width=\"768\"\n            height=\"576\"\n            preserveAspectRatio=\"xMinYMid slice\"\n            viewBox=\"0 0 1024 576\"\n            onMouseOver={() => setHoveredArea(2)}\n            style={{ pointerEvents: \"all\" }}\n          >\n            <image\n              width=\"1024\"\n              height=\"576\"\n              href={`${process.env.REACT_APP_ASSET_DOMAIN}/file/sekai-assets/character/member_small/${card.assetbundleName}_rip/card_normal.webp`}\n            ></image>\n          </svg>\n        </Fragment>\n      ) : (\n        <image\n          href={`${process.env.REACT_APP_ASSET_DOMAIN}/file/sekai-assets/character/member_small/${card.assetbundleName}_rip/card_normal.webp`}\n          x=\"0\"\n          y=\"0\"\n          width=\"1024\"\n          height=\"576\"\n          preserveAspectRatio=\"xMidYMid slice\"\n        ></image>\n      )}\n      {/* frame */}\n      <image\n        href={cardImageFrameMap[card.rarity]}\n        x=\"0\"\n        y=\"0\"\n        width=\"1024\"\n        height=\"576\"\n      ></image>\n      {/* attr */}\n      <image\n        href={attrIconMap[card.attr]}\n        x=\"924\"\n        y=\"12\"\n        width=\"88\"\n        height=\"88\"\n      />\n      {/* rarity */}\n      {Array.from({ length: card.rarity }).map((_, i) => (\n        <image\n          key={`card-rarity-${i}`}\n          href={rarityIcon}\n          x=\"16\"\n          y={490 - i * 62}\n          width=\"72\"\n          height=\"70\"\n        />\n      ))}\n    </svg>\n  ) : (\n    skeleton\n  );\n};\n\nexport const CardImageSkeleton: React.FC<{}> = () => {\n  const classes = useSvgStyles();\n\n  return <Skeleton variant=\"rect\" className={classes.skeleton}></Skeleton>;\n};\n","import {\n  Box,\n  Button,\n  ButtonGroup,\n  Card,\n  CardContent,\n  CardMedia,\n  Grid,\n  makeStyles,\n  Paper,\n  Typography,\n  Container,\n  Collapse,\n  FormControl,\n  Select,\n  MenuItem,\n  Chip,\n  Avatar,\n} from \"@material-ui/core\";\nimport { useLayoutStyles } from \"../styles/layout\";\nimport { Sort, SortOutlined, ViewAgenda, ViewComfy } from \"@material-ui/icons\";\nimport { Skeleton } from \"@material-ui/lab\";\nimport {\n  Filter,\n  FilterOutline,\n  ViewAgendaOutline,\n  ViewComfyOutline,\n  ViewGrid,\n  ViewGridOutline,\n} from \"mdi-material-ui\";\nimport React, {\n  Fragment,\n  useContext,\n  useEffect,\n  useReducer,\n  useState,\n} from \"react\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport { ICardEpisode, ICardInfo, ICardRarity, IGameChara } from \"../types\";\nimport { useCachedData, useCharaName, useRefState } from \"../utils\";\nimport { CardThumb, CardThumbSkeleton } from \"./subs/CardThumb\";\nimport InfiniteScroll from \"./subs/InfiniteScroll\";\n\nimport { useTranslation } from \"react-i18next\";\nimport { useInteractiveStyles } from \"../styles/interactive\";\nimport { useAssetI18n } from \"../utils/i18n\";\nimport { characterSelectReducer } from \"../stores/reducers\";\nimport { charaIcons } from \"../utils/resources\";\nimport { CardSmallImage } from \"./subs/CardImage\";\nimport { SettingContext } from \"../context\";\nimport { ContentTrans } from \"./subs/ContentTrans\";\n\ntype ViewGridType = \"grid\" | \"agenda\" | \"comfy\";\n\nconst useStyles = makeStyles((theme) => ({\n  media: {\n    paddingTop: \"56.25%\",\n  },\n  card: {\n    // margin: theme.spacing(0.5),\n    cursor: \"pointer\",\n  },\n  subheader: {\n    // whiteSpace: \"nowrap\",\n    // overflow: \"hidden\",\n    // textOverflow: \"ellipsis\",\n  },\n  agendaWrapper: {\n    display: \"block\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n    },\n    // [theme.breakpoints.only(\"md\")]: {\n    //   maxWidth: \"600px\",\n    // },\n    maxWidth: \"80%\",\n    margin: \"auto\",\n    cursor: \"pointer\",\n  },\n  agenda: {\n    padding: \"4% 4%\",\n  },\n  comfy: {\n    padding: \"6% 4%\",\n    cursor: \"pointer\",\n  },\n  comfyPrefix: {\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    maxWidth: \"100%\",\n  },\n}));\n\nfunction getPaginatedCards(cards: ICardInfo[], page: number, limit: number) {\n  return cards.slice(limit * (page - 1), limit * page);\n}\n\nfunction getMaxParam(\n  card: ICardInfo,\n  rarities: ICardRarity[],\n  episodes: ICardEpisode[]\n) {\n  const rarity = rarities.find((rarity) => rarity.rarity === card.rarity)!;\n\n  const maxLevel = rarity.trainingMaxLevel || rarity.maxLevel;\n\n  let maxParam =\n    card.cardParameters\n      .filter((cp) => cp.cardLevel === maxLevel)\n      .reduce((sum, cp) => {\n        sum += cp.power;\n        return sum;\n      }, 0) +\n    episodes\n      .filter((episode) => episode.cardId === card.id)\n      .reduce((sum, episode) => {\n        sum += episode.power1BonusFixed;\n        sum += episode.power2BonusFixed;\n        sum += episode.power3BonusFixed;\n        return sum;\n      }, 0);\n  if (card.rarity >= 3)\n    maxParam +=\n      card.specialTrainingPower1BonusFixed +\n      card.specialTrainingPower2BonusFixed +\n      card.specialTrainingPower3BonusFixed;\n\n  return maxParam;\n}\n\nconst CardList: React.FC<{}> = () => {\n  const classes = useStyles();\n  const layoutClasses = useLayoutStyles();\n  const interactiveClasses = useInteractiveStyles();\n  const { path } = useRouteMatch();\n  const { t } = useTranslation();\n  const { assetT } = useAssetI18n();\n  const { contentTransMode } = useContext(SettingContext)!;\n  const getCharaName = useCharaName(contentTransMode);\n\n  const [cardsCache] = useCachedData<ICardInfo>(\"cards\");\n  const [charas] = useCachedData<IGameChara>(\"gameCharacters\");\n  const [rarities] = useCachedData<ICardRarity>(\"cardRarities\");\n  const [episodes] = useCachedData<ICardEpisode>(\"cardEpisodes\");\n\n  const [cards, setCards] = useState<ICardInfo[]>([]);\n  const [sortedCache, sortedCacheRef, setSortedCache] = useRefState<\n    ICardInfo[]\n  >([]);\n  const [viewGridType, setViewGridType] = useState<ViewGridType>(\n    (localStorage.getItem(\"card-list-grid-view-type\") || \"grid\") as ViewGridType\n  );\n  const [page, pageRef, setPage] = useRefState<number>(0);\n  const [limit, limitRef] = useRefState<number>(12);\n  const [, lastQueryFinRef, setLastQueryFin] = useRefState<boolean>(true);\n  const [, isReadyRef, setIsReady] = useRefState<boolean>(false);\n  const [filterOpened, setFilterOpened] = useState<boolean>(false);\n  const [sortType, setSortType] = useState<string>(\n    localStorage.getItem(\"card-list-filter-sort-type\") || \"asc\"\n  );\n  const [sortBy, setSortBy] = useState<string>(\n    localStorage.getItem(\"card-list-filter-sort-by\") || \"id\"\n  );\n  const [characterSelected, dispatchCharacterSelected] = useReducer(\n    characterSelectReducer,\n    []\n  );\n\n  const callback = (\n    entries: readonly IntersectionObserverEntry[],\n    setHasMore: React.Dispatch<React.SetStateAction<boolean>>\n  ) => {\n    if (!isReadyRef.current) return;\n    if (\n      entries[0].isIntersecting &&\n      lastQueryFinRef.current &&\n      (!sortedCacheRef.current.length ||\n        sortedCacheRef.current.length > pageRef.current * limitRef.current)\n    ) {\n      setPage((page) => page + 1);\n      setLastQueryFin(false);\n    } else if (\n      sortedCacheRef.current.length &&\n      sortedCacheRef.current.length <= pageRef.current * limitRef.current\n    ) {\n      setHasMore(false);\n    }\n  };\n\n  useEffect(() => {\n    document.title = t(\"title:cardList\");\n  }, [t]);\n\n  useEffect(() => {\n    setIsReady(Boolean(cardsCache.length) && Boolean(charas.length));\n  }, [setIsReady, cardsCache, charas]);\n\n  useEffect(() => {\n    if (cardsCache.length && rarities.length && episodes.length) {\n      let result = cardsCache;\n      // do filter\n      if (characterSelected.length) {\n        result = result.filter((c) =>\n          characterSelected.includes(c.characterId)\n        );\n      }\n      // temporarily sort cards cache\n      switch (sortBy) {\n        case \"id\":\n        case \"rarity\":\n        case \"releaseAt\":\n          result = [...result].sort((a, b) =>\n            sortType === \"asc\" ? a[sortBy] - b[sortBy] : b[sortBy] - a[sortBy]\n          );\n          break;\n        case \"power\":\n          result = [...result].sort((a, b) =>\n            sortType === \"asc\"\n              ? getMaxParam(a, rarities, episodes) -\n                getMaxParam(b, rarities, episodes)\n              : getMaxParam(b, rarities, episodes) -\n                getMaxParam(a, rarities, episodes)\n          );\n          break;\n      }\n      setSortedCache(result);\n      setCards([]);\n      setPage(0);\n    }\n  }, [\n    cardsCache,\n    sortBy,\n    sortType,\n    setPage,\n    rarities,\n    episodes,\n    setSortedCache,\n    characterSelected,\n  ]);\n\n  useEffect(() => {\n    if (sortedCache.length) {\n      setCards((cards) => [\n        ...cards,\n        ...getPaginatedCards(sortedCache, page, limit),\n      ]);\n      setLastQueryFin(true);\n    }\n  }, [page, limit, setLastQueryFin, sortedCache]);\n\n  const ListCard: { [key: string]: React.FC<{ data?: ICardInfo }> } = {\n    grid: ({ data }) => {\n      if (!data) {\n        // loading\n        return (\n          <Card className={classes.card}>\n            <Skeleton variant=\"rect\" className={classes.media}></Skeleton>\n            <CardContent>\n              <Typography variant=\"subtitle1\" className={classes.subheader}>\n                <Skeleton variant=\"text\" width=\"90%\"></Skeleton>\n              </Typography>\n              <Typography variant=\"body2\" className={classes.subheader}>\n                <Skeleton variant=\"text\" width=\"30%\"></Skeleton>\n              </Typography>\n            </CardContent>\n          </Card>\n        );\n      }\n      return (\n        <Link to={path + \"/\" + data.id} style={{ textDecoration: \"none\" }}>\n          <Card className={classes.card}>\n            <CardMedia\n              // className={classes.media}\n              // image={`${process.env.REACT_APP_ASSET_DOMAIN}/file/sekai-assets/character/member_small/${data.assetbundleName}_rip/card_normal.webp`}\n              title={\n                contentTransMode === \"original\"\n                  ? data.prefix\n                  : contentTransMode === \"translated\"\n                  ? assetT(`card_prefix:${data.id}`, data.prefix)\n                  : data.prefix\n              }\n            >\n              <CardSmallImage id={data.id}></CardSmallImage>\n            </CardMedia>\n            <CardContent style={{ paddingBottom: \"16px\" }}>\n              <Grid container direction=\"column\" spacing={1}>\n                <Grid item>\n                  <ContentTrans\n                    mode={contentTransMode}\n                    contentKey={`card_prefix:${data.id}`}\n                    original={data.prefix}\n                    originalProps={{\n                      variant: \"subtitle1\",\n                      className: classes.subheader,\n                    }}\n                    translatedProps={{\n                      variant: \"subtitle1\",\n                      className: classes.subheader,\n                    }}\n                  />\n                </Grid>\n                <Grid item>\n                  <Typography\n                    variant=\"body2\"\n                    className={classes.subheader}\n                    color=\"textSecondary\"\n                  >\n                    {getCharaName(data.characterId)}\n                  </Typography>\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        </Link>\n      );\n    },\n    agenda: ({ data }) => {\n      if (!data) {\n        // loading\n        return (\n          <Box className={classes.agendaWrapper}>\n            <Paper className={classes.agenda}>\n              <Grid\n                container\n                alignItems=\"center\"\n                spacing={2}\n                justify=\"space-between\"\n              >\n                <Grid\n                  item\n                  xs={5}\n                  md={4}\n                  container\n                  direction=\"row\"\n                  spacing={1}\n                  justify=\"center\"\n                >\n                  <Grid item xs={12} md={6}>\n                    <CardThumbSkeleton></CardThumbSkeleton>\n                  </Grid>\n                  <Grid item xs={12} md={6}>\n                    <CardThumbSkeleton></CardThumbSkeleton>\n                  </Grid>\n                </Grid>\n                <Grid item xs={6} md={7}>\n                  <Typography variant=\"body1\">\n                    <Skeleton variant=\"text\" width=\"70%\"></Skeleton>\n                  </Typography>\n                  <Typography variant=\"body2\">\n                    <Skeleton variant=\"text\" width=\"30%\"></Skeleton>\n                  </Typography>\n                </Grid>\n              </Grid>\n            </Paper>\n          </Box>\n        );\n      }\n      return (\n        <Link\n          to={path + \"/\" + data.id}\n          className={classes.agendaWrapper}\n          style={{ textDecoration: \"none\" }}\n        >\n          <Paper className={classes.agenda}>\n            <Grid\n              container\n              alignItems=\"center\"\n              spacing={2}\n              justify=\"space-between\"\n            >\n              <Grid\n                item\n                xs={5}\n                md={4}\n                container\n                direction=\"row\"\n                spacing={1}\n                justify=\"center\"\n              >\n                <Grid item xs={12} md={6}>\n                  <CardThumb id={data.id} />\n                </Grid>\n                {data.rarity >= 3 ? (\n                  <Grid item xs={12} md={6}>\n                    <CardThumb id={data.id} trained />\n                  </Grid>\n                ) : null}\n              </Grid>\n              <Grid item xs={6} md={7}>\n                <Grid container direction=\"column\" spacing={1}>\n                  <Grid item>\n                    <ContentTrans\n                      mode={contentTransMode}\n                      contentKey={`card_prefix:${data.id}`}\n                      original={data.prefix}\n                      originalProps={{ variant: \"body1\" }}\n                      translatedProps={{ variant: \"body1\" }}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <Typography variant=\"body2\" color=\"textSecondary\">\n                      {getCharaName(data.characterId)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Link>\n      );\n    },\n    comfy: ({ data }) => {\n      if (!data) {\n        // loading\n        return (\n          <Paper className={classes.comfy}>\n            <Grid\n              container\n              direction=\"column\"\n              alignItems=\"center\"\n              spacing={2}\n              justify=\"space-between\"\n            >\n              <Grid item container direction=\"row\" spacing={1} justify=\"center\">\n                <Grid item xs={4}>\n                  <CardThumbSkeleton></CardThumbSkeleton>\n                </Grid>\n                <Grid item xs={4}>\n                  <CardThumbSkeleton></CardThumbSkeleton>\n                </Grid>\n              </Grid>\n              <Grid item style={{ width: \"100%\" }}>\n                <Typography\n                  classes={{ root: classes.comfyPrefix }}\n                  variant=\"body1\"\n                >\n                  <Skeleton\n                    variant=\"text\"\n                    width=\"70%\"\n                    style={{ margin: \"0 auto\" }}\n                  ></Skeleton>\n                </Typography>\n                <Typography variant=\"body2\">\n                  <Skeleton\n                    variant=\"text\"\n                    width=\"40%\"\n                    style={{ margin: \"0 auto\" }}\n                  ></Skeleton>\n                </Typography>\n              </Grid>\n            </Grid>\n          </Paper>\n        );\n      }\n      return (\n        <Link to={path + \"/\" + data.id} style={{ textDecoration: \"none\" }}>\n          <Paper className={classes.comfy}>\n            <Grid\n              container\n              direction=\"column\"\n              alignItems=\"center\"\n              spacing={2}\n              justify=\"space-between\"\n            >\n              <Grid item container direction=\"row\" spacing={1} justify=\"center\">\n                <Grid item xs={4}>\n                  <CardThumb id={data.id} />\n                </Grid>\n                {data.rarity >= 3 ? (\n                  <Grid item xs={4}>\n                    <CardThumb id={data.id} trained />\n                  </Grid>\n                ) : null}\n              </Grid>\n              <Grid item style={{ width: \"100%\" }}>\n                <Grid container direction=\"column\" spacing={1}>\n                  <Grid item>\n                    <ContentTrans\n                      mode={contentTransMode}\n                      contentKey={`card_prefix:${data.id}`}\n                      original={data.prefix}\n                      originalProps={{\n                        variant: \"body1\",\n                        className: classes.comfyPrefix,\n                        align: \"center\",\n                      }}\n                      translatedProps={{\n                        variant: \"body1\",\n                        className: classes.comfyPrefix,\n                        align: \"center\",\n                      }}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <Typography\n                      variant=\"body2\"\n                      align=\"center\"\n                      color=\"textSecondary\"\n                    >\n                      {getCharaName(data.characterId)}\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Link>\n      );\n    },\n  };\n\n  return (\n    <Fragment>\n      <Typography variant=\"h6\" className={layoutClasses.header}>\n        {t(\"common:card\")}\n      </Typography>\n      <Container className={layoutClasses.content}>\n        <Grid container justify=\"space-between\">\n          <ButtonGroup style={{ marginBottom: \"1%\" }}>\n            <Button\n              // variant={viewGridType === \"grid\" ? \"outlined\" : \"contained\"}\n              onClick={() => {\n                setViewGridType(\"grid\");\n                localStorage.setItem(\"card-list-grid-view-type\", \"grid\");\n              }}\n              color={viewGridType === \"grid\" ? \"primary\" : \"default\"}\n            >\n              {viewGridType === \"grid\" ? (\n                <ViewGrid></ViewGrid>\n              ) : (\n                <ViewGridOutline></ViewGridOutline>\n              )}\n            </Button>\n            <Button\n              // variant={viewGridType === \"agenda\" ? \"outlined\" : \"contained\"}\n              onClick={() => {\n                setViewGridType(\"agenda\");\n                localStorage.setItem(\"card-list-grid-view-type\", \"agenda\");\n              }}\n              color={viewGridType === \"agenda\" ? \"primary\" : \"default\"}\n            >\n              {viewGridType === \"agenda\" ? (\n                <ViewAgenda></ViewAgenda>\n              ) : (\n                <ViewAgendaOutline></ViewAgendaOutline>\n              )}\n            </Button>\n            <Button\n              // variant={viewGridType === \"comfy\" ? \"outlined\" : \"contained\"}\n              onClick={() => {\n                setViewGridType(\"comfy\");\n                localStorage.setItem(\"card-list-grid-view-type\", \"comfy\");\n              }}\n              color={viewGridType === \"comfy\" ? \"primary\" : \"default\"}\n            >\n              {viewGridType === \"comfy\" ? (\n                <ViewComfy></ViewComfy>\n              ) : (\n                <ViewComfyOutline></ViewComfyOutline>\n              )}\n            </Button>\n          </ButtonGroup>\n          <ButtonGroup color=\"primary\" style={{ marginBottom: \"1%\" }}>\n            <ButtonGroup color=\"primary\" style={{ marginBottom: \"1%\" }}>\n              <Button size=\"medium\" onClick={() => setFilterOpened((v) => !v)}>\n                {filterOpened ? <Filter /> : <FilterOutline />}\n                {filterOpened ? <Sort /> : <SortOutlined />}\n              </Button>\n            </ButtonGroup>\n          </ButtonGroup>\n        </Grid>\n        <Collapse in={filterOpened}>\n          <Paper className={interactiveClasses.container}>\n            <Grid container direction=\"column\" spacing={1}>\n              <Grid\n                item\n                container\n                xs={12}\n                alignItems=\"center\"\n                justify=\"space-between\"\n              >\n                <Grid item xs={12} md={2}>\n                  <Typography classes={{ root: interactiveClasses.caption }}>\n                    {t(\"filter:character.caption\")}\n                  </Typography>\n                </Grid>\n                <Grid item container xs={12} md={9} spacing={1}>\n                  {Array.from({ length: 26 }).map((_, idx) => (\n                    <Grid key={\"chara-filter-\" + idx} item>\n                      <Chip\n                        clickable\n                        color={\n                          characterSelected.includes(idx + 1)\n                            ? \"primary\"\n                            : \"default\"\n                        }\n                        avatar={\n                          <Avatar\n                            alt={getCharaName(idx + 1)}\n                            src={\n                              charaIcons[`CharaIcon${idx + 1}` as \"CharaIcon1\"]\n                            }\n                          />\n                        }\n                        label={getCharaName(idx + 1)}\n                        onClick={() => {\n                          if (characterSelected.includes(idx + 1)) {\n                            dispatchCharacterSelected({\n                              type: \"remove\",\n                              payload: idx + 1,\n                            });\n                          } else {\n                            dispatchCharacterSelected({\n                              type: \"add\",\n                              payload: idx + 1,\n                            });\n                          }\n                        }}\n                      />\n                    </Grid>\n                  ))}\n                </Grid>\n              </Grid>\n              <Grid\n                item\n                container\n                xs={12}\n                alignItems=\"center\"\n                justify=\"space-between\"\n              >\n                <Grid item xs={12} md={2}>\n                  <Typography classes={{ root: interactiveClasses.caption }}>\n                    {t(\"filter:sort.caption\")}\n                  </Typography>\n                </Grid>\n                <Grid item container xs={12} md={9} spacing={1}>\n                  <Grid item>\n                    <FormControl>\n                      <Select\n                        value={sortType}\n                        onChange={(e) => {\n                          setSortType(e.target.value as string);\n                          localStorage.setItem(\n                            \"card-list-filter-sort-type\",\n                            e.target.value as string\n                          );\n                        }}\n                      >\n                        <MenuItem value=\"asc\">\n                          {t(\"filter:sort.ascending\")}\n                        </MenuItem>\n                        <MenuItem value=\"desc\">\n                          {t(\"filter:sort.descending\")}\n                        </MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item>\n                    <FormControl>\n                      <Select\n                        value={sortBy}\n                        onChange={(e) => {\n                          setSortBy(e.target.value as string);\n                          localStorage.setItem(\n                            \"card-list-filter-sort-by\",\n                            e.target.value as string\n                          );\n                        }}\n                      >\n                        <MenuItem value=\"id\">{t(\"common:id\")}</MenuItem>\n                        <MenuItem value=\"rarity\">{t(\"common:rarity\")}</MenuItem>\n                        <MenuItem value=\"releaseAt\">\n                          {t(\"common:startAt\")}\n                        </MenuItem>\n                        <MenuItem value=\"power\">{t(\"card:power\")}</MenuItem>\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Paper>\n        </Collapse>\n        {InfiniteScroll<ICardInfo>({\n          viewComponent: ListCard[viewGridType],\n          callback,\n          data: cards,\n          gridSize: ({\n            grid: {\n              xs: 12,\n              sm: 6,\n              md: 4,\n              lg: 3,\n            },\n            agenda: {\n              xs: 12,\n            },\n            comfy: {\n              xs: 12,\n              sm: 6,\n              md: 3,\n            },\n          } as const)[viewGridType],\n        })}\n      </Container>\n    </Fragment>\n  );\n};\n\nexport default CardList;\n"],"sourceRoot":""}